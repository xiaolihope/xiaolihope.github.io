本文记录openstack基础的一些知识点。## 1. openstack有哪些组件？nova，neutron，cinder，glance，keystone，heat，ceilometer，trove，magnum，senlin，sahara，magnum## 2. 控制节点跑哪些服务nova组件、neutron-server、cinder组件、haproxy、keepalived等、mysql、rabbitmq等## 3. 计算节点跑哪些服务nova-compute，neutron-dhcp-agent、neutron-ovs-agent## 4. 存储节点跑哪些服务cinder-volume## 5. 如何查看用户网络命名空间```ip netns lsip netns exec qdhcp-XXXX "ifconfig"```## 6. 如何将vm从错误状态转为活动状态？```# nova reset-status --active <uuid>```## 7. br-int,br-tun,br-exbr-int: 集成桥br-tun: 隧道桥，支持二层网络，gre，vxlanbr-ex：通外网ovs-ofctl dump-flows br-int## 8. neutron支持哪几种网络类型，区别是什么？参考：https://www.cnblogs.com/sammyliu/p/4627230.htmlvlan，vxlan，gre，flat### vlan优点：- 通过vlan ID将同一网络划分为多个逻辑上的虚拟子网，隔离了广播域。### vlan缺点：- vlan是基于二层的技术，最多支持4096个vlan- 无法解决网络地址重叠问题- 随着一个网络中虚拟机数量的增多，交换机mac表会变得越来越庞大。### vxlan优点 vxlan采用MAC-in-UDP报文封装模式，通过将二层报文使用三层协议封装实现二层网络在三层范围内扩展，满足数据中心大二层虚拟机迁移和多租户需求;VXLAN技术可以基于三层网络结构来构建二层虚拟网络，使用VXLAN技术可以创建多达1600万个网络。- 24位长度的VNI字段值可以支持更多数量的虚拟网络，解决了VLAN数目上限为4094的局限性的问题- VXLAN技术通过隧道技术在物理的三层网络中虚拟二层网络，处于VXLAN网络的终端无法察觉到VXLAN的通信过程，这样也就使得逻辑网络拓扑和物理网络拓扑实现了一定程度的解耦，网络拓扑的配置对于物理设备的配置的依赖程度有所降低，配置更灵活更方便。- VLAN技术仅仅解决了二层网络广播域分割的问题，而VXLAN技术还具有多租户支持的特性，通过VXLAN分割，各个租户可以独立组网、通信，地址分配方面和多个租户之间地址冲突的问题也得到了解决。### vxlan 局限为了保证VXLAN机制通信过程的正确性，rfc7348标准中规定，涉及到VXLAN通信的IP报文一律不允许分片，这就要求物理网络的链路层实现中必须提供足够大的MTU值，保证VXLAN报文的顺利传输，这一点可以理解为当前VXLAN技术的局限性。### flat建议测试用。Flat网络利用桥接技术，物理主机与虚拟机网络流量使用同一个物理网口，并共享同一个网络。### gregre和vxlan类似，都是基于大二层的overlay技术。GRE（Generic Routing Encapsulation，）通用路由协议封装，是一种 IP-over-IP 的隧道